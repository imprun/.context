# STORY-14.5: Agent Detail Page

## 1. ê°œìš”
**Epic**: EPIC-014 Agent ê´€ë¦¬
**ì œëª©**: Agent ìƒì„¸ í˜ì´ì§€
**ë‹´ë‹¹ì**: AI Agent
**ìƒíƒœ**: âœ… ì™„ë£Œ (ì¼ë¶€ ê°œì„  í•„ìš”)

## 2. ëª©ì 
ê°œë³„ Agentì˜ ìƒì„¸ ì •ë³´, ìƒíƒœ, ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ë¥¼ êµ¬í˜„í•œë‹¤.

## 3. í˜„ì¬ ìƒíƒœ ë¶„ì„

### 3.1. êµ¬í˜„ ì™„ë£Œ í•­ëª©
**Path**: `web/src/pages/operator/agent-detail-page.tsx`

- Agent ê¸°ë³¸ ì •ë³´ í‘œì‹œ (ID, Name, Version, IP, Status)
- Cluster ë§í¬ ì—°ê²°
- ìƒíƒœë³„ ì‹œê°ì  í‘œì‹œ (Connected/Disconnected/Pending/Blocked)
- Health Status ì¹´ë“œ
- Recent Events í…Œì´ë¸”
- Token Rotate ë²„íŠ¼
- Token Revoke ë‹¤ì´ì–¼ë¡œê·¸

### 3.2. EPIC ì„¤ê³„ ëŒ€ë¹„ ì°¨ì´ì 
| í•­ëª© | EPIC ì„¤ê³„ | í˜„ì¬ êµ¬í˜„ | ìƒíƒœ |
|------|----------|----------|------|
| ê¸°ë³¸ ì •ë³´ | O | O | âœ… |
| ìƒíƒœ í‘œì‹œ | O | O | âœ… |
| ì´ë²¤íŠ¸ ë¡œê·¸ | O | O | âœ… |
| í† í° ê´€ë¦¬ | O | O | âœ… |
| ë©”íƒ€ë°ì´í„° | O | X | ğŸ”„ |
| Heartbeat ì´ë ¥ | O | Eventsë¡œ ëŒ€ì²´ | âœ… |

## 4. í˜„ì¬ êµ¬í˜„ ìƒì„¸

### 4.1. í˜ì´ì§€ êµ¬ì¡°
```tsx
function AgentDetailPage({ agentId }: Props) {
  const { data: agent } = useAgent(agentId);
  const { data: eventsData } = useAgentEvents(agentId);

  return (
    <div className="space-y-6">
      {/* Header: Back + Title + Actions */}
      <Header>
        <AgentStatusBadge status={agent.status} />
        <Button>Rotate Token</Button>
        <Button variant="destructive">Revoke Tokens</Button>
      </Header>

      {/* Info Cards Grid */}
      <Grid cols={2}>
        <AgentInfoCard agent={agent} />
        <HealthStatusCard status={agent.status} />
      </Grid>

      {/* Events Table */}
      <EventsCard events={eventsData?.events} />

      {/* Dialogs */}
      <RevokeAgentDialog />
    </div>
  );
}
```

### 4.2. UI ë ˆì´ì•„ì›ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back     agent-prod-01                    [Rotate Token] [Revoke Tokens] â”‚
â”‚             Cluster: kr-prod-cluster                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¤– Agent Information            â”‚  â”‚ ğŸ’š Health Status                â”‚  â”‚
â”‚  â”‚ ID: xxxxxx                      â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚ Version: 1.2.0                  â”‚  â”‚     â— Connected                 â”‚  â”‚
â”‚  â”‚ IP: 10.0.1.15                   â”‚  â”‚     Agent is online and healthy â”‚  â”‚
â”‚  â”‚ Last Connected: 2 min ago       â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚ Created: 2025-01-15             â”‚  â”‚                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“„ Recent Events                                                     â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Event              â”‚ Timestamp           â”‚ IP Address              â”‚   â”‚
â”‚  â”‚  token rotated      â”‚ 2025-01-20 14:30:00 â”‚ 10.0.1.15              â”‚   â”‚
â”‚  â”‚  connected          â”‚ 2025-01-20 14:00:00 â”‚ 10.0.1.15              â”‚   â”‚
â”‚  â”‚  ...                                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. ê°œì„  ì‚¬í•­ (ì„ íƒì )

### 5.1. ë©”íƒ€ë°ì´í„° í‘œì‹œ ì¶”ê°€
Agentì— ë©”íƒ€ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš° í‘œì‹œ:

```tsx
{agent.metadata && Object.keys(agent.metadata).length > 0 && (
  <div>
    <h4>Metadata</h4>
    <pre>{JSON.stringify(agent.metadata, null, 2)}</pre>
  </div>
)}
```

### 5.2. ë„¤ë¹„ê²Œì´ì…˜ ê°œì„ 
í˜„ì¬: `â† Back` (router.back())
ê°œì„ : `â† {cluster.name}` (Cluster ìƒì„¸ë¡œ ì§ì ‘ ë§í¬)

## 6. ìˆ˜ìš© ê¸°ì¤€
- [x] Agent ê¸°ë³¸ ì •ë³´(ID, Name, Version, IP)ê°€ í‘œì‹œëœë‹¤.
- [x] í˜„ì¬ ìƒíƒœê°€ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œëœë‹¤.
- [x] Cluster ë§í¬ê°€ ë™ì‘í•œë‹¤.
- [x] ì´ë²¤íŠ¸ ë¡œê·¸ê°€ í…Œì´ë¸”ë¡œ í‘œì‹œëœë‹¤.
- [x] ë¡œë”© ìƒíƒœì—ì„œ ìŠ¤ì¼ˆë ˆí†¤ UIê°€ í‘œì‹œëœë‹¤.
- [x] ì—ëŸ¬ ì‹œ ì ì ˆí•œ ì—ëŸ¬ UIê°€ í‘œì‹œëœë‹¤.
- [x] Token Rotate/Revoke ê¸°ëŠ¥ì´ ë™ì‘í•œë‹¤.

## 7. ì°¸ì¡° íŒŒì¼
- `web/src/pages/operator/agent-detail-page.tsx`
- `web/app/operator/agents/[id]/page.tsx`
- `web/src/entities/agent/api/agent-api.ts`
- `web/src/features/agent/revoke-agent/revoke-agent-dialog.tsx`

## 8. ë¹„ê³ 
ì´ ìŠ¤í† ë¦¬ëŠ” ëŒ€ë¶€ë¶„ êµ¬í˜„ ì™„ë£Œ. ë©”íƒ€ë°ì´í„° í‘œì‹œëŠ” ì„ íƒì  ê°œì„  ì‚¬í•­.
